{% extends "base.html" %}
{% block title %}
  Страница пользователя {{ profile.get_full_name|default:profile.username }}
{% endblock %}
{% block content %}
  <div class="mb-5">
    <h1>Страница пользователя {{ profile.get_full_name|default:profile.username }}</h1>
    
    {% if profile.first_name %}
      <p><strong>Имя:</strong> {{ profile.first_name }}</p>
    {% endif %}
    {% if profile.last_name %}
      <p><strong>Фамилия:</strong> {{ profile.last_name }}</p>
    {% endif %}
    <p><strong>Дата регистрации:</strong> {{ profile.date_joined|date:"d.m.Y" }}</p>
    
    {% if user == profile %}
      <div class="mt-3">
        <a href="{% url 'blog:edit_profile' profile.username %}" class="btn btn-outline-primary">Редактировать профиль</a>
        <a href="{% url 'password_change' %}" class="btn btn-outline-secondary">Изменить пароль</a>
      </div>
    {% endif %}
  </div>

  <h2>Публикации пользователя</h2>
  {% for post in page_obj %}
    <article class="mb-5">
      {% include "includes/post_card.html" %}
    </article>
  {% empty %}
    <p>У пользователя пока нет публикаций.</p>
  {% endfor %}
  
  {% include "includes/paginator.html" %}
{% endblock %}
